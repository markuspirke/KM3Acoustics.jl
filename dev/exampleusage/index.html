<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Example Usage · KM3Acoustics.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">KM3Acoustics.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li class="is-active"><a class="tocitem" href>Example Usage</a><ul class="internal"><li><a class="tocitem" href="#Example-usage"><span>Example usage</span></a></li><li><a class="tocitem" href="#Command-Line-Tools"><span>Command Line Tools</span></a></li></ul></li><li><a class="tocitem" href="../internalapis/">APIs</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Example Usage</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Example Usage</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mpirke/KM3Acoustics.jl/blob/main/docs/src/exampleusage.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Example-usage"><a class="docs-heading-anchor" href="#Example-usage">Example usage</a><a id="Example-usage-1"></a><a class="docs-heading-anchor-permalink" href="#Example-usage" title="Permalink"></a></h2><p>For a complete detector calibration you need several input files, which you should put all in one directory. Here we will call this directory <strong>workingdir</strong>. The first file you need is a <strong>.detx</strong> file. This file stores the geometry of the detector. Then you need a <strong>tripod.txt</strong> file. This stores the ids and positions of the tripods, which are placed on the seabed. The ids in this tripod.txt however, are not the ids used in the acoustic data files coming from the database. To map the ids from the data base we need the <strong>waveform.txt</strong> file. Then a hyrophone is mounted on each basemodule. Here you need a <strong>hydrophone.txt</strong> file, which stores the positions of the hydrophones relative to the basemodule. Then there are a few more file which should be included in the workingdir. <strong>acoustics_fit_parameters.txt</strong>, <strong>acoustics_trigger_parameters.txt</strong>, <strong>mechanics.txt</strong> are need for the eventbuilding and calibration procedure. The workingdir should then look like this</p><pre><code class="language-shell hljs">    workdir
    ├── KM3NeT_00000049_00011190.detx
    ├── acoustics_fit_parameters.txt
    ├── acoustics_trigger_parameters.txt
    ├── hydrophone.txt
    ├── mechanics.txt
    ├── sound_velocity.txt
    ├── tripod.txt
    └── waveform.txt</code></pre><p>All of these files can be generated with jpp.</p><h2 id="Command-Line-Tools"><a class="docs-heading-anchor" href="#Command-Line-Tools">Command Line Tools</a><a id="Command-Line-Tools-1"></a><a class="docs-heading-anchor-permalink" href="#Command-Line-Tools" title="Permalink"></a></h2><p>In the Github repository there are several scripts which you can use. It is easiest if one just clones the whole GitHub repository with</p><blockquote><p>git clone https://github.com/mpirke/KM3Acoustics.jl.git</p></blockquote><p>From here you just go into the directory (KM3Acoustics) you just copied to your local computer. Then you can use</p><pre><code class="language-shell hljs">    julia --project=. scripts/&lt;script.jl&gt; ...</code></pre><p>to run the different scripts.</p><h3 id="Simulation.jl"><a class="docs-heading-anchor" href="#Simulation.jl">Simulation.jl</a><a id="Simulation.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation.jl" title="Permalink"></a></h3><p>Each script needs a different set of command line arguments. Lets take a look at the following</p><pre><code class="language-julia hljs">    doc = &quot;&quot;&quot;Simulation of acoustic events.
    Usage:
    simulation.jl [options]  -i INPUT_FILES_DIR -D DETX -r RUN
    simulation.jl -h | --help
    simulation.jl --version
    Options:
    -D DETX             The detector description file.
    -i INPUT_FILES_DIR  Directory containing tripod.txt, hydrophone.txt, waveform.txt
    -r RUN              Run number for this simulation.
    -h --help           Show this screen.
    --version           Show version.
    &quot;&quot;&quot;</code></pre><p>There are 3 <strong>mandatory</strong> arguments:</p><ol><li>-i INPUT_FILES_DIR: should be the path to the working directory as mentioned in the earlier section.</li><li>-D DETX: The .detx file with the detector geometry.</li><li>-r RUN: This will be the run ID for the simulation data.</li></ol><p>If you are in the KM3Acoustics directory where the workingdir in included you can use the simulation script with</p><pre><code class="language-shell hljs">    julia --project=. scripts/simulation.jl -i workingdir -D workingdir/detector.detx -r 123</code></pre><p>This will simulate acoustic events for a 10 min time window. During this time intervall each tripod will send out 11 signals, each seperated by 5 seconds. The outout will be a .h5 file. </p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Introduction</a><a class="docs-footer-nextpage" href="../internalapis/">APIs »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Wednesday 21 December 2022 10:46">Wednesday 21 December 2022</span>. Using Julia version 1.8.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
